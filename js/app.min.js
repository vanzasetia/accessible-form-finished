const form=document.querySelector(".js-form"),inputs=document.querySelectorAll(".js-input"),alerts=document.querySelectorAll(".js-alert"),clearAllAlerts=()=>{alerts.forEach((e=>e.textContent="")),inputs.forEach((e=>e.classList.remove("is-invalid")))},showAlertMessage=({input:e,alert:t,message:a})=>{t.textContent=a,e.classList.add("is-invalid")},handleAlert=(e,t)=>{alerts.forEach((a=>{e.dataset.id===a.dataset.id&&showAlertMessage({input:e,alert:a,message:t})}))},isInputFilled=(e,t)=>{const a=!!t;return a||handleAlert(e,`This ${e.dataset.id} input is required`),a},validateEmail=(e,t)=>{const a=/^(?:[a-z0-9.]){2,30}@{1}(?:[a-z0-9-]){2,30}\.{1}(?:[a-z0-9]){2,3}(?:\.(?:[a-z0-9]){2,3})?$/.test(t);return a||handleAlert(e,"Please provide a valid email address"),a},checkAllInputs=()=>{let e=!1,t=!1,a=!1;inputs.forEach((s=>{const l=s.dataset.id,r=s.value;switch(l){case"name":e=isInputFilled(s,r);break;case"email":t=isInputFilled(s,r),t&&(a=validateEmail(s,r));break;default:console.error(`${l} input doesn't exist`)}}));return e&&t&&a},validateForm=e=>{alerts.forEach((e=>e.textContent="")),inputs.forEach((e=>e.classList.remove("is-invalid")));checkAllInputs()||e.preventDefault()};form.addEventListener("submit",validateForm);